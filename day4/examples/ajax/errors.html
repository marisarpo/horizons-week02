<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">
    <title>Horizons AJAX ERRORS Examples</title>
  </head>

  <body>

    <h1>AJAX Error Handling</h1>

    <p>Given the following list of urls you need to use AJAX to remove the ones that are broken.</p>

    <ul id="links">
      <li id="products">https://horizons-school-of-technology.github.io/week02/day4/examples/products.json</li>
      <li id="members">https://horizons-school-of-technology.github.io/week02/day4/examples/members.txt</li>
      <li id="JhoUfx3vNy2C6l8dzki84Tp2e3cds3WF">https://horizons-school-of-technology.github.io/week02/day4/examples/products/JhoUfx3vNy2C6l8dzki84Tp2e3cds3WF.json</li>
      <li id="oUfx3vNy2C6l8dzki84Tp2e3cds3">https://horizons-school-of-technology.github.io/week02/day4/examples/products/oUfx3vNy2C6l8dzki84Tp2e3cds3.json</li>
      <li id="poem">https://horizons-school-of-technology.github.io/week02/day4/examples/poem.txt</li>
    </ul>

    <script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>
    <script>
      // YOUR CODE HERE
      var arr = $('#links').children() ;
      var id = $(arr[0]).attr('id');
      console.log(id);
      console.log($(`#${id}`).text());

      for (var i=0; i<arr.length; i++){

        (function () {
          var id = $(arr[i]).attr('id');
          $.ajax({
            url: $(`#${id}`).text(),
            error: function (err) {
              $(`#${id}`).remove();
              console.log(err);
            }
          })
        })();
      }


      /*$.ajax({
        url: $('#members').text(),
        error: function (err) {
          $('#members').remove();
        }
      })
      $.ajax({
        url: $('#products').text(),
        error: function (err) {
          $('#products').remove();
        }
      })
      $.ajax({
        url: $('#JhoUfx3vNy2C6l8dzki84Tp2e3cds3WF').text(),
        error: function (err) {
          $('#JhoUfx3vNy2C6l8dzki84Tp2e3cds3WF').remove();
        }
      })
      $.ajax({
        url: $('#oUfx3vNy2C6l8dzki84Tp2e3cds3').text(),
        error: function (err) {
          $('#oUfx3vNy2C6l8dzki84Tp2e3cds3').remove();
        }
      })
      $.ajax({
        url: $('#poem').text(),
        error: function (err) {
          $('#poem').remove();
        }
      })*/





    </script>
  </body>
</html>

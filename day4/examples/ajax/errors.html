<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">
    <title>Horizons AJAX ERRORS Examples</title>
  </head>

  <body>

    <h1>AJAX Error Handling</h1>

    <p>Given the following list of urls you need to use AJAX to remove the ones that are broken.</p>

    <ul id="links">
      <li id="products">https://horizons-json-cors.s3.amazonaws.com/products.json</li>
      <li id="members">https://horizons-json-cors.s3.amazonaws.com/members.txt</li>
      <li id="JhoUfx3vNy2C6l8dzki84Tp2e3cds3WF">https://horizons-json-cors.s3.amazonaws.com/products/JhoUfx3vNy2C6l8dzki84Tp2e3cds3WF.json</li>
      <li id="oUfx3vNy2C6l8dzki84Tp2e3cds3">https://horizons-json-cors.s3.amazonaws.com/products/oUfx3vNy2C6l8dzki84Tp2e3cds3.json</li>
      <li id="poem">https://horizons-json-cors.s3.amazonaws.com/poem.txt</li>
    </ul>

    <script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>
    <script>
    $('#links li').each(function() {
        var u = $(this).text()
        var i = this.id
        $.ajax({
            url: u,
            error: function(e) {
                $('#' + i).remove()
            }
        })
    });

    // var success = []
    // var failure = []
    // for (var i=0; i < arr.length; i++) {
    //     var u = arr[i]
    //     console.log(u)
    //     $.ajax({
    //       url: u,
    //       success: function(resp) {
    //           success.push(u)
    //       },
    //       error: function(err) {
    //           failure.push(u)
    //       }
    //       });
    // }
    // // console.log(success)
    // // console.log(failure)

    </script>
  </body>
</html>
